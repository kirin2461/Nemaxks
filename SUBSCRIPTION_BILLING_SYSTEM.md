# üí≥ Subscription & Billing System for Nemaxks

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –∏ –±–∏–ª–ª–∏–Ω–≥–∞ –¥–ª—è —É—á–µ–±–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (–≤—É–∑—ã/—á–∞—Å—Ç–Ω—ã–µ –∫—É—Ä—Å—ã) —Å –¥–æ—Å—Ç—É–ø–æ–º –ø–æ –ª–∏—Ü–µ–Ω–∑–∏–∏ –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é OIDC/JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ Keycloak, –∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∞ –∏ –ø–æ–¥–ø–∏—Å–∫–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: OIDC/JWT —á–µ—Ä–µ–∑ Keycloak (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ª–æ–≥–∏–Ω)
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: –ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∞ –ø–æ –∫–∞–Ω–∞–ª–∞–º)
- **–ë–∏–ª–ª–∏–Ω–≥**: –û–ø–ª–∞—Ç–∞ –∑–∞ "billable seats" (–ø–ª–∞—Ç–Ω—ã–µ —Ä–æ–ª–∏), –∞ –Ω–µ –∑–∞ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- **–•—Ä–∞–Ω–µ–Ω–∏–µ**: –ë–∞–∑–æ–≤—ã–µ –ª–∏–º–∏—Ç—ã + –ø–ª–∞—Ç–Ω—ã–π overage 50 ‚ÇΩ/–ì–ë‚Äë–º–µ—Å
- **–û–ø–ª–∞—Ç–∞**: YooKassa (—Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç) + –ø—Ä—è–º–æ–π –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É

---

## üìä –£—Ä–æ–≤–Ω–∏ –ø–æ–¥–ø–∏—Å–∫–∏

### Free (–±–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)

**–î–æ—Å—Ç—É–ø**:
- –¢–æ–ª—å–∫–æ –ø–æ –∏–Ω–≤–∞–π—Ç—É –≤ –∫–∞–Ω–∞–ª
- –†–æ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `read-only` (–Ω–µ billable)

**–•—Ä–∞–Ω–µ–Ω–∏–µ**:
- –í–∏–¥–µ–æ: 7 –¥–Ω–µ–π
- –°–æ–æ–±—â–µ–Ω–∏—è: 30 –¥–Ω–µ–π
- –ü–æ—Å—Ç—ã: –∞–≤—Ç–æ—É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 15 –¥–Ω–µ–π
- –õ–æ–≥–∏: 45 –¥–Ω–µ–π
- –î–æ—Å–∫–∏/—Ç–µ—Ç—Ä–∞–¥–∏: –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–µ—Å—Å–∏–∏

**Jarvis**:
- –î–æ 3 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- –î–∞–ª—å—à–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ

**Overage**:
- –ü—Ä–æ–¥–ª–µ–Ω–∏–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–≤–µ—Ä—Ö —Å—Ä–æ–∫–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ

**–¶–µ–Ω–∞**: 0 ‚ÇΩ

---

### Edu Basic (–¥–ª—è –∫—É—Ä—Å–æ–≤/–º–∞–ª—ã—Ö –≥—Ä—É–ø–ø)

**–î–æ—Å—Ç—É–ø**:
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–ø–µ—Ü-–∫–∞–Ω–∞–ª—ã
- –ë–∞–∑–æ–≤—ã–µ —É—á–µ–±–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –∏ –¥–æ—Å–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ —á–µ—Ä–µ–∑ `org_entitlement` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–ë–∏–ª–ª–∏–Ω–≥ seats**:
- `student_editor`: **35 ‚ÇΩ/–º–µ—Å** (billable)
- `staff_seat`: **500 ‚ÇΩ/–º–µ—Å** (billable)
- `reader`: –±–µ—Å–ø–ª–∞—Ç–Ω–æ (non-billable)

**–•—Ä–∞–Ω–µ–Ω–∏–µ**:
- –í–∏–¥–µ–æ: 14 –¥–Ω–µ–π
- –°–æ–æ–±—â–µ–Ω–∏—è: 60 –¥–Ω–µ–π
- –õ–æ–≥–∏: 45 –¥–Ω–µ–π
- –î–æ—Å–∫–∏/—Ç–µ—Ç—Ä–∞–¥–∏: –¥–æ 30 –¥–Ω–µ–π (–ø–æ—Ç–æ–º –∞—Ä—Ö–∏–≤–∏—Ä—É—é—Ç—Å—è/—É–¥–∞–ª—è—é—Ç—Å—è)

**Jarvis**:
- 10 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
- –°–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–∞: –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ –∏–ª–∏ –ø–æ–∫—É–ø–∫–∞ –ø–∞–∫–µ—Ç–æ–≤

**Overage**:
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–æ–≤: **50 ‚ÇΩ/–ì–ë‚Äë–º–µ—Å**
- –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º `keep_beyond_retention`

**–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞**: 0 ‚ÇΩ —Ñ–∏–∫—Å + –æ–ø–ª–∞—Ç–∞ –ø–æ seats –∏ overage

---

### Edu Pro (–æ—Å–Ω–æ–≤–Ω–æ–π –ø–ª–∞—Ç–Ω—ã–π)

**–î–æ—Å—Ç—É–ø**:
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —É—á–µ–±–Ω—ã–µ —Ñ–∏—á–∏
- **–°–æ—Ö—Ä–∞–Ω—è–µ–º—ã–µ** –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–æ—Å–∫–∏ –∏ –æ–Ω–ª–∞–π–Ω-—Ç–µ—Ç—Ä–∞–¥–∏ (`boards_persist=true`)
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —à–∞–±–ª–æ–Ω—ã
- –≠–∫—Å–ø–æ—Ä—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

**–ë–∏–ª–ª–∏–Ω–≥ seats**:
- `student_editor`: **35 ‚ÇΩ/–º–µ—Å** (billable)
- `staff_seat`: **500 ‚ÇΩ/–º–µ—Å** (billable)
- `reader`: –±–µ—Å–ø–ª–∞—Ç–Ω–æ (non-billable)

**–•—Ä–∞–Ω–µ–Ω–∏–µ**:
- –í–∏–¥–µ–æ: 60 –¥–Ω–µ–π
- –°–æ–æ–±—â–µ–Ω–∏—è: 180 –¥–Ω–µ–π
- –õ–æ–≥–∏: 90 –¥–Ω–µ–π
- –î–æ—Å–∫–∏/—Ç–µ—Ç—Ä–∞–¥–∏: **–ø–æ—Å—Ç–æ—è–Ω–Ω–æ** (–ø–æ–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞)

**Jarvis**:
- 50 –∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å

**Overage**:
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–æ–≤: **50 ‚ÇΩ/–ì–ë‚Äë–º–µ—Å**
- –î–ª—è –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–µ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∏–¥–µ–æ/—Å–æ–æ–±—â–µ–Ω–∏–π

**–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞**:
- –û—Ç—á—ë—Ç—ã –ø–æ usage –∏–∑ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥—Å–µ—Ç–µ–π/VPN
- –î–ª—è –∞–¥–º–∏–Ω–æ–≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

**–ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞**: **2000 ‚ÇΩ/–º–µ—Å** –∑–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é + –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —á–∞—Å—Ç—å

---

## üéÅ –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∞–≤—Ç–æ—Ä–∞

**–ú–µ—Ö–∞–Ω–∏–∫–∞**:
- –î–æ–±—Ä–æ–≤–æ–ª—å–Ω—ã–π –¥–æ–Ω–∞—Ç **–æ—Ç 20 ‚ÇΩ**
- –î–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ª—é–±–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å –∞–∫–∫–∞—É–Ω—Ç–æ–º –∏–ª–∏ –∞–Ω–æ–Ω–∏–º–Ω–æ)
- –ù–µ –¥–∞—ë—Ç –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–∞–≤ –∏–ª–∏ entitlements

**–û–ø–ª–∞—Ç–∞**:
- YooKassa: –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂ (–Ω–µ —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç)
- –ü—Ä—è–º–æ–π –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É: —Ä—É—á–Ω–∞—è —Å–≤–µ—Ä–∫–∞

**UI**:
- –ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∞–≤—Ç–æ—Ä–∞" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –æ–ø–ª–∞—Ç—ã
- –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ —Å—É–º–º—ã (min 20 ‚ÇΩ)
- –ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏: 20‚ÇΩ, 50‚ÇΩ, 100‚ÇΩ, 500‚ÇΩ
- –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã: —Å–ø–∞—Å–∏–±–æ-—Å—Ç—Ä–∞–Ω–∏—Ü–∞

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `subscription_plan`

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–ª–∞–Ω—ã –ø–æ–¥–ø–∏—Å–æ–∫:

```sql
CREATE TABLE subscription_plan (
  id SERIAL PRIMARY KEY,
  slug VARCHAR(50) UNIQUE NOT NULL,  -- 'free', 'edu_basic', 'edu_pro'
  name VARCHAR(100) NOT NULL,
  description TEXT,
  base_price_rub DECIMAL(10,2) DEFAULT 0,
  
  -- Retention limits
  video_retention_days INT DEFAULT 7,
  messages_retention_days INT DEFAULT 30,
  posts_retention_days INT DEFAULT 15,
  logs_retention_days INT DEFAULT 45,
  
  -- Features
  boards_persist_flag BOOLEAN DEFAULT FALSE,
  jarvis_daily_limit INT DEFAULT 3,
  overage_storage_enabled BOOLEAN DEFAULT FALSE,
  traffic_reports_enabled BOOLEAN DEFAULT FALSE,
  
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
INSERT INTO subscription_plan (slug, name, base_price_rub, video_retention_days, messages_retention_days, boards_persist_flag, jarvis_daily_limit, overage_storage_enabled) VALUES
('free', 'Free', 0, 7, 30, FALSE, 3, FALSE),
('edu_basic', 'Edu Basic', 0, 14, 60, FALSE, 10, TRUE),
('edu_pro', 'Edu Pro', 2000, 60, 180, TRUE, 50, TRUE);
```

### –¢–∞–±–ª–∏—Ü–∞ `seat_pricing`

–¶–µ–Ω—ã –Ω–∞ billable —Ä–æ–ª–∏:

```sql
CREATE TABLE seat_pricing (
  id SERIAL PRIMARY KEY,
  plan_id INT REFERENCES subscription_plan(id) ON DELETE CASCADE,
  seat_type VARCHAR(50) NOT NULL,  -- 'student_editor', 'staff', 'reader'
  price_per_month_rub DECIMAL(10,2) NOT NULL,
  min_seats INT DEFAULT 0,
  max_seats INT DEFAULT NULL,  -- NULL = no limit
  is_billable BOOLEAN DEFAULT TRUE,
  description TEXT,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(plan_id, seat_type)
);

-- –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Edu Basic
INSERT INTO seat_pricing (plan_id, seat_type, price_per_month_rub, is_billable) VALUES
(2, 'student_editor', 35.00, TRUE),
(2, 'staff', 500.00, TRUE),
(2, 'reader', 0.00, FALSE);

-- –î–ª—è Edu Pro
INSERT INTO seat_pricing (plan_id, seat_type, price_per_month_rub, is_billable) VALUES
(3, 'student_editor', 35.00, TRUE),
(3, 'staff', 500.00, TRUE),
(3, 'reader', 0.00, FALSE);
```

### –¢–∞–±–ª–∏—Ü–∞ `overage_pricing`

–¶–µ–Ω—ã –Ω–∞ usage-–º–µ—Ç—Ä–∏–∫–∏:

```sql
CREATE TABLE overage_pricing (
  id SERIAL PRIMARY KEY,
  plan_id INT REFERENCES subscription_plan(id) ON DELETE CASCADE,  -- NULL = global
  metric_type VARCHAR(50) NOT NULL,  -- 'storage_gb_month', 'jarvis_request_pack'
  price_rub DECIMAL(10,2) NOT NULL,
  unit VARCHAR(50) NOT NULL,  -- 'GB¬∑–º–µ—Å—è—Ü', '50 –∑–∞–ø—Ä–æ—Å–æ–≤'
  description TEXT,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
INSERT INTO overage_pricing (plan_id, metric_type, price_rub, unit, description) VALUES
(2, 'storage_gb_month', 50.00, 'GB¬∑–º–µ—Å—è—Ü', '–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–∞ –ø–ª–∞–Ω–∞'),
(3, 'storage_gb_month', 50.00, 'GB¬∑–º–µ—Å—è—Ü', '–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–∞ –ø–ª–∞–Ω–∞'),
(3, 'jarvis_request_pack', 100.00, '50 –∑–∞–ø—Ä–æ—Å–æ–≤', '–ü–∞–∫–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ Jarvis');
```

### –¢–∞–±–ª–∏—Ü–∞ `org` (—É—á–µ–±–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è)

```sql
CREATE TABLE org (
  id SERIAL PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  status VARCHAR(50) DEFAULT 'active',  -- 'active', 'suspended', 'deleted'
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü–∞ `org_subscription`

```sql
CREATE TABLE org_subscription (
  id SERIAL PRIMARY KEY,
  org_id INT REFERENCES org(id) ON DELETE CASCADE,
  plan_id INT REFERENCES subscription_plan(id),
  
  -- Seats count
  seats_student_editor INT DEFAULT 0,
  seats_staff INT DEFAULT 0,
  
  -- Period
  starts_at TIMESTAMP NOT NULL,
  ends_at TIMESTAMP NOT NULL,
  grace_until TIMESTAMP,  -- Grace period after expiry
  
  -- Billing
  auto_renew BOOLEAN DEFAULT TRUE,
  payment_provider VARCHAR(50),  -- 'yookassa', 'manual_transfer'
  billing_period VARCHAR(20) DEFAULT 'monthly',  -- 'monthly', 'annual'
  
  status VARCHAR(50) DEFAULT 'active',  -- 'active', 'expired', 'cancelled'
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü–∞ `org_entitlement`

```sql
CREATE TABLE org_entitlement (
  id SERIAL PRIMARY KEY,
  org_id INT REFERENCES org(id) ON DELETE CASCADE,
  feature_key VARCHAR(100) NOT NULL,  -- 'boards_persist', 'traffic_reports'
  enabled BOOLEAN DEFAULT TRUE,
  limits_json JSONB,  -- {"retention_days": 180, "jarvis_free_requests_per_day": 50}
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(org_id, feature_key)
);
```

### –¢–∞–±–ª–∏—Ü–∞ `storage_overage_daily`

```sql
CREATE TABLE storage_overage_daily (
  id SERIAL PRIMARY KEY,
  org_id INT REFERENCES org(id) ON DELETE CASCADE,
  date DATE NOT NULL,
  bytes_over_retention BIGINT DEFAULT 0,
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(org_id, date)
);

-- –í –∫–æ–Ω—Ü–µ –º–µ—Å—è—Ü–∞: –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –ì–ë-–º–µ—Å –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å—á—ë—Ç
```

### –¢–∞–±–ª–∏—Ü–∞ `donation_settings`

```sql
CREATE TABLE donation_settings (
  id SERIAL PRIMARY KEY,
  min_amount_rub DECIMAL(10,2) DEFAULT 20.00,
  default_amounts_json JSONB DEFAULT '[20, 50, 100, 500]',
  thank_you_message TEXT DEFAULT '–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É!',
  is_enabled BOOLEAN DEFAULT TRUE,
  updated_at TIMESTAMP DEFAULT NOW()
);

INSERT INTO donation_settings (id) VALUES (1);  -- Singleton
```

### –¢–∞–±–ª–∏—Ü–∞ `donation`

```sql
CREATE TABLE donation (
  id SERIAL PRIMARY KEY,
  user_id INT REFERENCES users(id) ON DELETE SET NULL,  -- Nullable for anonymous
  amount_rub DECIMAL(10,2) NOT NULL,
  payment_provider VARCHAR(50) NOT NULL,
  status VARCHAR(50) DEFAULT 'pending',  -- 'pending', 'paid', 'failed'
  created_at TIMESTAMP DEFAULT NOW()
);
```

### –¢–∞–±–ª–∏—Ü–∞ `pricing_change_log`

–ê—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω:

```sql
CREATE TABLE pricing_change_log (
  id SERIAL PRIMARY KEY,
  changed_by_user_id INT REFERENCES users(id),
  table_name VARCHAR(100) NOT NULL,
  record_id INT NOT NULL,
  field_name VARCHAR(100) NOT NULL,
  old_value TEXT,
  new_value TEXT,
  reason TEXT,
  changed_at TIMESTAMP DEFAULT NOW()
);
```

---

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### OIDC/JWT —á–µ—Ä–µ–∑ Keycloak

**Keycloak** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–∞–∫ "—à–ª—é–∑" –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- –í—ã–¥–∞—ë—Ç ID token / access token
- –•—Ä–∞–Ω–∏—Ç –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
- **–ù–ï** —É–ø—Ä–∞–≤–ª—è–µ—Ç –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∞–º–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç JWT-—Ç–æ–∫–µ–Ω
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç `user_id` (–∏–ª–∏ `oidc_subject`)
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–∞–≤–∞ –∏–∑ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –ë–î: `org_member`, `channel_acl`, `org_entitlement`

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –≤ Go

```go
// internal/auth/subscription.go
package auth

import (
	"context"
	"time"
)

type SubscriptionService struct {
	db *gorm.DB
}

func (s *SubscriptionService) CanAccessSpecialChannel(ctx context.Context, userID int, channelID int) (bool, error) {
	// 1. –ü–æ–ª—É—á–∏—Ç—å –∫–∞–Ω–∞–ª
	var channel Channel
	if err := s.db.First(&channel, channelID).Error; err != nil {
		return false, err
	}
	
	// 2. –ï—Å–ª–∏ –∫–∞–Ω–∞–ª –Ω–µ —Å–ø–µ—Ü-–∫–∞–Ω–∞–ª, —Ä–∞–∑—Ä–µ—à–∏—Ç—å
	if channel.Type != "special" {
		return true, nil
	}
	
	// 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
	var sub OrgSubscription
	err := s.db.Where("org_id = ? AND status = 'active' AND ends_at > ?", channel.OrgID, time.Now()).First(&sub).Error
	if err != nil {
		return false, nil  // –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –ø–æ–¥–ø–∏—Å–∫–∏
	}
	
	// 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å entitlement –Ω–∞ —Å–ø–µ—Ü-–∫–∞–Ω–∞–ª—ã
	var ent OrgEntitlement
	err = s.db.Where("org_id = ? AND feature_key = 'special_channels' AND enabled = true", channel.OrgID).First(&ent).Error
	if err != nil {
		return false, nil
	}
	
	// 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–∞–Ω–∞–ª–µ (ACL)
	var acl ChannelACL
	err = s.db.Where("channel_id = ? AND principal_type = 'user' AND principal_id = ?", channelID, userID).First(&acl).Error
	if err != nil {
		return false, nil  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∏–º–µ–µ—Ç –ø—Ä–∞–≤ –≤ –∫–∞–Ω–∞–ª–µ
	}
	
	return true, nil
}
```

---

## üí∞ –ë–∏–ª–ª–∏–Ω–≥: Billable Seats

### –ü—Ä–∏–Ω—Ü–∏–ø

–ü–ª–∞—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –∑–∞ **billable —Ä–æ–ª–∏**:
- `student_editor`: 35 ‚ÇΩ/–º–µ—Å
- `staff`: 500 ‚ÇΩ/–º–µ—Å
- `reader`: 0 ‚ÇΩ (–Ω–µ billable)

### –ü–æ–¥—Å—á—ë—Ç billable seats

```go
// internal/billing/seats.go
package billing

import (
	"time"
)

type SeatBillingService struct {
	db *gorm.DB
}

func (s *SeatBillingService) CountBillableSeats(orgID int, period time.Time) (int, int, error) {
	// –°—á–∏—Ç–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å billable —Ä–æ–ª—è–º–∏
	var studentCount, staffCount int64
	
	// Student editors
	err := s.db.Table("channel_acl").
		Joins("JOIN channels ON channels.id = channel_acl.channel_id").
		Where("channels.org_id = ? AND channel_acl.seat_type = 'student_editor' AND channel_acl.is_active = true", orgID).
		Distinct("channel_acl.principal_id").
		Count(&studentCount).Error
	if err != nil {
		return 0, 0, err
	}
	
	// Staff seats
	err = s.db.Table("org_member").
		Where("org_id = ? AND org_role IN ('admin', 'teacher', 'curator') AND state = 'active'", orgID).
		Count(&staffCount).Error
	if err != nil {
		return 0, 0, err
	}
	
	return int(studentCount), int(staffCount), nil
}

func (s *SeatBillingService) CalculateMonthlyCharge(orgID int, planID int) (float64, error) {
	// 1. –ü–æ–ª—É—á–∏—Ç—å –ø–ª–∞–Ω
	var plan SubscriptionPlan
	if err := s.db.First(&plan, planID).Error; err != nil {
		return 0, err
	}
	
	// 2. –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –ø–ª–∞–Ω–∞
	total := float64(plan.BasePriceRub)
	
	// 3. –ü–æ–¥—Å—á—ë—Ç billable seats
	studentCount, staffCount, err := s.CountBillableSeats(orgID, time.Now())
	if err != nil {
		return 0, err
	}
	
	// 4. –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—ã seats
	var prices []SeatPricing
	err = s.db.Where("plan_id = ? AND is_active = true", planID).Find(&prices).Error
	if err != nil {
		return 0, err
	}
	
	for _, p := range prices {
		switch p.SeatType {
		case "student_editor":
			total += float64(studentCount) * float64(p.PricePerMonthRub)
		case "staff":
			total += float64(staffCount) * float64(p.PricePerMonthRub)
		}
	}
	
	// 5. –î–æ–±–∞–≤–∏—Ç—å overage storage
	overageCharge, err := s.CalculateStorageOverage(orgID)
	if err == nil {
		total += overageCharge
	}
	
	return total, nil
}
```

---

## üì¶ Overage Storage: 50 ‚ÇΩ/–ì–ë‚Äë–º–µ—Å

### –ü—Ä–∏–Ω—Ü–∏–ø

–í—Å—ë, —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è **–¥–æ–ª—å—à–µ** –±–∞–∑–æ–≤—ã—Ö —Å—Ä–æ–∫–æ–≤ –ø–ª–∞–Ω–∞, —Ç–∞—Ä–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç—Å—è:
- –ú–µ—Ç—Ä–∏–∫–∞: `stored_gb_month` = —Å—Ä–µ–¥–Ω–∏–π –æ–±—ä—ë–º (–ì–ë) √ó –¥–æ–ª—è –º–µ—Å—è—Ü–∞
- –¢–∞—Ä–∏—Ñ: **50 ‚ÇΩ/–ì–ë‚Äë–º–µ—Å**

### –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á—ë—Ç–∞

```go
// internal/billing/storage.go
package billing

import (
	"time"
)

func (s *SeatBillingService) CalculateStorageOverage(orgID int) (float64, error) {
	// –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ –º–µ—Å—è—Ü
	start := time.Now().AddDate(0, -1, 0)
	end := time.Now()
	
	var records []StorageOverageDaily
	err := s.db.Where("org_id = ? AND date BETWEEN ? AND ?", orgID, start, end).Find(&records).Error
	if err != nil {
		return 0, err
	}
	
	// –°—É–º–º–∏—Ä—É–µ–º –±–∞–π—Ç—ã
	var totalBytes int64
	for _, r := range records {
		totalBytes += r.BytesOverRetention
	}
	
	// –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –ì–ë-–º–µ—Å
	gbMonth := float64(totalBytes) / (1024 * 1024 * 1024) / float64(len(records)) * 30.0
	
	// –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—É overage
	var pricing OveragePricing
	err = s.db.Where("metric_type = 'storage_gb_month' AND is_active = true").First(&pricing).Error
	if err != nil {
		return 0, err
	}
	
	charge := gbMonth * float64(pricing.PriceRub)
	return charge, nil
}
```

### –ü–æ–ª–∏—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤

```go
// internal/storage/retention.go
package storage

import (
	"time"
)

type StorageObject struct {
	ID                 int
	OrgID              int
	Type               string    // 'video', 'message_attachment', 'board_state'
	CreatedAt          time.Time
	RetentionExpiresAt time.Time
	KeepBeyondRetention bool  // –§–ª–∞–≥ –¥–ª—è overage storage
}

func (s *StorageService) ShouldDeleteObject(obj *StorageObject, plan *SubscriptionPlan) bool {
	// –ï—Å–ª–∏ —Ñ–ª–∞–≥ keep_beyond_retention = true –∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ —Å overage
	if obj.KeepBeyondRetention {
		if plan.OverageStorageEnabled {
			return false  // –•—Ä–∞–Ω–∏—Ç—å (bi–ª–ª–∏—Ç—å –∑–∞ overage)
		}
	}
	
	// –ò–Ω–∞—á–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–µ—á–µ–Ω–∏–µ retention
	return time.Now().After(obj.RetentionExpiresAt)
}
```

---

## üí≥ –û–ø–ª–∞—Ç–∞

### YooKassa (—Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏)

–î–ª—è –∞–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫:

```go
// internal/payment/yookassa.go
package payment

import (
	"bytes"
	"encoding/json"
	"net/http"
)

type YooKassaService struct {
	ShopID    string
	SecretKey string
}

func (y *YooKassaService) CreateRecurringPayment(amount float64, description string, returnURL string) (string, error) {
	payload := map[string]interface{}{
		"amount": map[string]interface{}{
			"value":    amount,
			"currency": "RUB",
		},
		"confirmation": map[string]interface{}{
			"type":       "redirect",
			"return_url": returnURL,
		},
		"capture":     true,
		"description": description,
		"save_payment_method": true,  // –î–ª—è —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–∞
	}
	
	body, _ := json.Marshal(payload)
	req, _ := http.NewRequest("POST", "https://api.yookassa.ru/v3/payments", bytes.NewBuffer(body))
	req.SetBasicAuth(y.ShopID, y.SecretKey)
	req.Header.Set("Content-Type", "application/json")
	req.Header.Set("Idempotence-Key", generateIdempotenceKey())
	
	// ... –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–∞
	return "payment_id", nil
}
```

### –ü—Ä—è–º–æ–π –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É

–†—É—á–Ω–æ–π flow:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É"
2. –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ä–µ–∫–≤–∏–∑–∏—Ç—ã (–Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã, –§–ò–û)
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–µ–Ω—å–≥–∏ –∏ –≤–≤–æ–¥–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 4 —Ü–∏—Ñ—Ä—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
4. –ê–¥–º–∏–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤ –±–∞–Ω–∫–µ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–ª–∞—Ç—ë–∂ –≤—Ä—É—á–Ω—É—é
5. –ü–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è

```go
// internal/payment/manual.go
package payment

type ManualTransferService struct {
	db *gorm.DB
}

func (m *ManualTransferService) CreateManualPayment(orgID int, amount float64, last4Digits string) error {
	payment := Payment{
		OrgID:           orgID,
		Amount:          amount,
		PaymentProvider: "manual_transfer",
		Status:          "pending_verification",
		Last4Digits:     last4Digits,
	}
	return m.db.Create(&payment).Error
}

func (m *ManualTransferService) ConfirmManualPayment(adminID int, paymentID int) error {
	// –ê–¥–º–∏–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç
	err := m.db.Model(&Payment{}).Where("id = ?", paymentID).Updates(map[string]interface{}{
		"status":          "paid",
		"verified_by":     adminID,
		"verified_at":     time.Now(),
	}).Error
	if err != nil {
		return err
	}
	
	// –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
	// ...
	return nil
}
```

---

## üñ•Ô∏è UI: –ü–∞–Ω–µ–ª—å —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞

### –†–∞–∑–¥–µ–ª "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏"

**–ú–∞—Ä—à—Ä—É—Ç**: `/admin/pricing`

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è `user.role = 'superadmin'`
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `pricing_change_log`

#### –°–µ–∫—Ü–∏—è 1: –ü–ª–∞–Ω—ã –ø–æ–¥–ø–∏—Å–∫–∏

–¢–∞–±–ª–∏—Ü–∞ —Å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏:
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ (Free/Edu Basic/Edu Pro)
- –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ (‚ÇΩ/–º–µ—Å)
- Retention —Å—Ä–æ–∫–∏ (–≤–∏–¥–µ–æ/—Å–æ–æ–±—â–µ–Ω–∏—è/–ø–æ—Å—Ç—ã/–ª–æ–≥–∏)
- –õ–∏–º–∏—Ç—ã Jarvis (–∑–∞–ø—Ä–æ—Å–æ–≤/–¥–µ–Ω—å)
- –§–ª–∞–≥–∏ (boards_persist, overage_enabled, traffic_reports)

**–î–µ–π—Å—Ç–≤–∏—è**:
- Inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î + –ª–æ–≥

#### –°–µ–∫—Ü–∏—è 2: –¶–µ–Ω—ã –Ω–∞ —Ä–æ–ª–∏ (Seats)

–¢–∞–±–ª–∏—Ü–∞ —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–∞ –ø–æ –ø–ª–∞–Ω–∞–º:
- –ü–ª–∞–Ω ‚Üí –†–æ–ª—å ‚Üí –¶–µ–Ω–∞ ‚ÇΩ/–º–µ—Å ‚Üí Min/Max seats ‚Üí Billable

**–î–µ–π—Å—Ç–≤–∏—è**:
- Inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω—ã
- –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ä–æ–ª—å" (–¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ç–∏–ø–æ–≤)

#### –°–µ–∫—Ü–∏—è 3: Overage-–º–µ—Ç—Ä–∏–∫–∏

–¢–∞–±–ª–∏—Ü–∞:
- –ü–ª–∞–Ω (–∏–ª–∏ "–ì–ª–æ–±–∞–ª—å–Ω–æ") ‚Üí –ú–µ—Ç—Ä–∏–∫–∞ ‚Üí –¶–µ–Ω–∞ ‚ÇΩ ‚Üí –ï–¥–∏–Ω–∏—Ü–∞

**–ü—Ä–∏–º–µ—Ä**:
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö –ª–∏–º–∏—Ç–∞: **50** ‚ÇΩ –∑–∞ GB¬∑–º–µ—Å—è—Ü
- Jarvis –ø–∞–∫–µ—Ç: **100** ‚ÇΩ –∑–∞ 50 –∑–∞–ø—Ä–æ—Å–æ–≤

#### –°–µ–∫—Ü–∏—è 4: –î–æ–Ω–∞—Ç—ã

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ `donation_settings`:
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ (‚ÇΩ)
- –ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ (–º–∞—Å—Å–∏–≤ —Å—É–º–º)
- –°–æ–æ–±—â–µ–Ω–∏–µ "–°–ø–∞—Å–∏–±–æ"
- –í–∫–ª—é—á–µ–Ω–æ/–í—ã–∫–ª—é—á–µ–Ω–æ

---

## üìÑ Frontend: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `SubscriptionPage.tsx`

**–ú–∞—Ä—à—Ä—É—Ç**: `/subscription`

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**:
1. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤** (Free / Edu Basic / Edu Pro)
   - –¢–∞–±–ª–∏—Ü–∞ —Å —Ñ–∏—á–∞–º–∏ –∏ —Ü–µ–Ω–∞–º–∏
   - –ö–Ω–æ–ø–∫–∏ "–ö—É–ø–∏—Ç—å" –∏–ª–∏ "–¢–µ–∫—É—â–∏–π –ø–ª–∞–Ω"

2. **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏**
   - –í—ã–±–æ—Ä –ø–ª–∞–Ω–∞
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ student_editor –∏ staff seats
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç: `–±–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ + (seats √ó —Ü–µ–Ω–∞)`
   - –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: "+ overage storage 50 ‚ÇΩ/–ì–ë‚Äë–º–µ—Å –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤"

3. **–§–æ—Ä–º–∞ –æ–ø–ª–∞—Ç—ã**
   - –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞: YooKassa / –ü—Ä—è–º–æ–π –ø–µ—Ä–µ–≤–æ–¥
   - –ï—Å–ª–∏ YooKassa: —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ø–ª–∞—Ç—ë–∂–Ω—É—é —Ñ–æ—Ä–º—É
   - –ï—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥: –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã + –ø–æ–ª–µ –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 4 —Ü–∏—Ñ—Ä

4. **–ö–Ω–æ–ø–∫–∞ "–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∞–≤—Ç–æ—Ä–∞"**
   - –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ —Å—É–º–º—ã (min 20 ‚ÇΩ)
   - –ë—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏: 20‚ÇΩ, 50‚ÇΩ, 100‚ÇΩ, 500‚ÇΩ
   - –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã: —Å–ø–∞—Å–∏–±–æ-—Å–æ–æ–±—â–µ–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```tsx
// frontend/src/pages/SubscriptionPage.tsx
import React, { useState } from 'react';
import { useMutation } from '@tanstack/react-query';

const SubscriptionPage: React.FC = () => {
  const [selectedPlan, setSelectedPlan] = useState('edu_basic');
  const [studentSeats, setStudentSeats] = useState(10);
  const [staffSeats, setStaffSeats] = useState(2);

  const calculateTotal = () => {
    const plans = {
      free: { base: 0, student: 0, staff: 0 },
      edu_basic: { base: 0, student: 35, staff: 500 },
      edu_pro: { base: 2000, student: 35, staff: 500 },
    };
    const plan = plans[selectedPlan];
    return plan.base + (studentSeats * plan.student) + (staffSeats * plan.staff);
  };

  const purchaseMutation = useMutation({
    mutationFn: async () => {
      const res = await fetch('/api/subscription/purchase', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ plan: selectedPlan, studentSeats, staffSeats }),
      });
      return res.json();
    },
  });

  return (
    <div className="max-w-6xl mx-auto p-6">
      <h1 className="text-3xl font-bold mb-8">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É</h1>
      
      {/* Plan comparison table */}
      <div className="grid grid-cols-3 gap-6 mb-8">
        {/* Free plan card */}
        <PlanCard name="Free" price={0} features={['7 –¥–Ω–µ–π –≤–∏–¥–µ–æ', '30 –¥–Ω–µ–π —Å–æ–æ–±—â–µ–Ω–∏—è', '3 Jarvis/–¥–µ–Ω—å']} />
        
        {/* Edu Basic card */}
        <PlanCard name="Edu Basic" price="–æ—Ç 35 ‚ÇΩ/–º–µ—Å—Ç–æ" features={['14 –¥–Ω–µ–π –≤–∏–¥–µ–æ', '60 –¥–Ω–µ–π —Å–æ–æ–±—â–µ–Ω–∏—è', '10 Jarvis/–¥–µ–Ω—å', 'Overage storage']} />
        
        {/* Edu Pro card */}
        <PlanCard name="Edu Pro" price="2000 ‚ÇΩ/–º–µ—Å + –º–µ—Å—Ç–∞" features={['60 –¥–Ω–µ–π –≤–∏–¥–µ–æ', '180 –¥–Ω–µ–π —Å–æ–æ–±—â–µ–Ω–∏—è', '50 Jarvis/–¥–µ–Ω—å', '–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –¥–æ—Å–∫–∏']} />
      </div>

      {/* Calculator */}
      <div className="bg-white rounded-lg shadow p-6 mb-8">
        <h2 className="text-2xl font-semibold mb-4">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏</h2>
        <div className="space-y-4">
          <div>
            <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ student_editor:</label>
            <input type="number" value={studentSeats} onChange={(e) => setStudentSeats(+e.target.value)} className="ml-2 border px-2 py-1" />
          </div>
          <div>
            <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ staff:</label>
            <input type="number" value={staffSeats} onChange={(e) => setStaffSeats(+e.target.value)} className="ml-2 border px-2 py-1" />
          </div>
          <div className="text-xl font-bold">
            –ò—Ç–æ–≥–æ: {calculateTotal()} ‚ÇΩ/–º–µ—Å
          </div>
          <p className="text-sm text-gray-600">+ overage storage 50 ‚ÇΩ/–ì–ë‚Äë–º–µ—Å –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤</p>
        </div>
        <button onClick={() => purchaseMutation.mutate()} className="mt-4 bg-blue-600 text-white px-6 py-2 rounded">–ö—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É</button>
      </div>

      {/* Donate section */}
      <div className="bg-yellow-50 rounded-lg shadow p-6">
        <h2 className="text-2xl font-semibold mb-4">‚ù§Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∞–≤—Ç–æ—Ä–∞</h2>
        <p className="mb-4">–õ—é–±–∞—è —Å—É–º–º–∞ –æ—Ç 20 ‚ÇΩ ‚Äî –Ω–µ –¥–∞—ë—Ç –ø—Ä–∞–≤, —Ç–æ–ª—å–∫–æ –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å!</p>
        <div className="flex gap-2">
          <button className="bg-yellow-500 text-white px-4 py-2 rounded">20 ‚ÇΩ</button>
          <button className="bg-yellow-500 text-white px-4 py-2 rounded">50 ‚ÇΩ</button>
          <button className="bg-yellow-500 text-white px-4 py-2 rounded">100 ‚ÇΩ</button>
          <button className="bg-yellow-500 text-white px-4 py-2 rounded">500 ‚ÇΩ</button>
          <input type="number" placeholder="–î—Ä—É–≥–∞—è —Å—É–º–º–∞" className="border px-2 py-1" />
        </div>
      </div>
    </div>
  );
};

export default SubscriptionPage;
```

---

## üöÄ –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î (1-2 –Ω–µ–¥–µ–ª–∏)

- [ ] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü:
  - `subscription_plan`
  - `seat_pricing`
  - `overage_pricing`
  - `org`
  - `org_subscription`
  - `org_entitlement`
  - `storage_overage_daily`
  - `donation_settings`
  - `donation`
  - `pricing_change_log`

- [ ] –ó–∞–ø–æ–ª–Ω–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (3 –ø–ª–∞–Ω–∞ + —Ü–µ–Ω—ã seats)

- [ ] –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª–∏ GORM –≤ `backend/internal/db/models/`

### –§–∞–∑–∞ 2: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–∞–≤–∞ (1-2 –Ω–µ–¥–µ–ª–∏)

- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Keycloak OIDC –≤ Go backend
  - Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ JWT-—Ç–æ–∫–µ–Ω–æ–≤
  - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ `user_id` –∏–∑ —Ç–æ–∫–µ–Ω–∞

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
  - `CanAccessSpecialChannel(userID, channelID)`
  - `HasOrgSubscription(orgID)`
  - `CheckEntitlement(orgID, featureKey)`

- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –≤ API endpoints:
  - `/api/channels/:id` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –¥–ª—è —Å–ø–µ—Ü-–∫–∞–Ω–∞–ª–æ–≤
  - `/api/boards/:id` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ `boards_persist` entitlement

### –§–∞–∑–∞ 3: –ë–∏–ª–ª–∏–Ω–≥ –∏ —Ä–∞—Å—á—ë—Ç seats (2-3 –Ω–µ–¥–µ–ª–∏)

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `SeatBillingService`:
  - `CountBillableSeats(orgID, period)`
  - `CalculateMonthlyCharge(orgID, planID)`

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `StorageService`:
  - `CalculateStorageOverage(orgID)`
  - `ShouldDeleteObject(object, plan)` ‚Äî –ø–æ–ª–∏—Ç–∏–∫–∞ retention

- [ ] –°–æ–∑–¥–∞—Ç—å cronjob –¥–ª—è –±–∏–ª–ª–∏–Ω–≥–∞:
  - –ó–∞–ø—É—Å–∫ —Ä–∞–∑ –≤ –º–µ—Å—è—Ü
  - –ü–æ–¥—Å—á—ë—Ç billable seats
  - –ü–æ–¥—Å—á—ë—Ç overage storage
  - –°–æ–∑–¥–∞–Ω–∏–µ —Å—á—ë—Ç–∞ (invoice)

- [ ] API endpoints:
  - `GET /api/subscription/current` ‚Äî —Ç–µ–∫—É—â–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ org
  - `GET /api/subscription/usage` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ seats –∏ overage
  - `POST /api/subscription/purchase` ‚Äî –ø–æ–∫—É–ø–∫–∞/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –§–∞–∑–∞ 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–ø–ª–∞—Ç—ã (2-3 –Ω–µ–¥–µ–ª–∏)

- [ ] YooKassa:
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ YooKassa
  - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `YooKassaService`
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ webhook'–æ–≤ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–∞
  - –ê–≤—Ç–æ–ø—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ (recurring)

- [ ] –ü—Ä—è–º–æ–π –ø–µ—Ä–µ–≤–æ–¥:
  - UI –¥–ª—è –≤–≤–æ–¥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 4 —Ü–∏—Ñ—Ä
  - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞–º –æ –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–∞—Ö

- [ ] –î–æ–Ω–∞—Ç—ã:
  - API endpoint `POST /api/donate`
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YooKassa (–æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂)
  - –°–ø–∞—Å–∏–±–æ-—Å—Ç—Ä–∞–Ω–∏—Ü–∞

### –§–∞–∑–∞ 5: Frontend UI (2-3 –Ω–µ–¥–µ–ª–∏)

- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/subscription`:
  - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤
  - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏
  - –§–æ—Ä–º–∞ –æ–ø–ª–∞—Ç—ã (YooKassa / –ø–µ—Ä–µ–≤–æ–¥)
  - –°–µ–∫—Ü–∏—è "–ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∞–≤—Ç–æ—Ä–∞"

- [ ] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å `/admin/pricing`:
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞–º–∏ (inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏ seats
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ overage-–º–µ—Ç—Ä–∏–∫
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–Ω–∞—Ç–æ–≤
  - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (`pricing_change_log`)

- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø–æ–¥–ø–∏—Å–∫–∏ –≤ UI:
  - Badge "Edu Pro" —Ä—è–¥–æ–º —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º org
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏
  - –õ–∏–º–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (seats, Jarvis, storage)

### –§–∞–∑–∞ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)

- [ ] Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –±–∏–ª–ª–∏–Ω–≥-–ª–æ–≥–∏–∫–∏
- [ ] Integration-—Ç–µ—Å—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã (sandbox YooKassa)
- [ ] E2E-—Ç–µ—Å—Ç—ã –¥–ª—è purchase flow
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
  - –ö–∞–∫ –∫—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
  - –ö–∞–∫ –æ–ø–ª–∞—Ç–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥–æ–º
  - –ö–∞–∫ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –∞–≤—Ç–æ—Ä–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–æ–≤:
  - –ö–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å —Ü–µ–Ω–∞–º–∏
  - –ö–∞–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å —Ä—É—á–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] HTTPS –Ω–∞ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö
- [ ] JWT-—Ç–æ–∫–µ–Ω—ã —Å –∫–æ—Ä–æ—Ç–∫–∏–º TTL (15 –º–∏–Ω) + refresh token
- [ ] Rate limiting –Ω–∞ API (–æ—Å–æ–±–µ–Ω–Ω–æ `/api/subscription/purchase`)
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (amount, seats, orgID)
- [ ] SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞—â–∏—Ç–∞ (GORM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç prepared statements)
- [ ] XSS –∑–∞—â–∏—Ç–∞ –≤ React (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –µ—Å—Ç—å)
- [ ] CSRF —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ñ–æ—Ä–º –æ–ø–ª–∞—Ç—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- [ ] –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –æ–ø–ª–∞—Ç—ã
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –±–∏–ª–ª–∏–Ω–≥–∞ (revenue, MRR, churn)
- [ ] –î–∞—à–±–æ—Ä–¥ –¥–ª—è —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞ (—Ç–µ–∫—É—â–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏, –¥–æ—Ö–æ–¥)

### –ë—ç–∫–∞–ø—ã

- [ ] –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã PostgreSQL
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ –±—ç–∫–∞–ø–∞
- [ ] –•—Ä–∞–Ω–µ–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (S3/Backblaze)

### –ö–æ–º–ø–ª–∞–µ–Ω—Å

- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ (ToS)
- [ ] –ü–æ–ª–∏—Ç–∏–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤
- [ ] –û—Ñ–µ—Ä—Ç–∞ –¥–ª—è –ø–æ–¥–ø–∏—Å–æ–∫
- [ ] –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ò–ü/–û–û–û
- [ ] –ß–µ–∫–∏/–∏–Ω–≤–æ–π—Å—ã –¥–ª—è –±–∏–∑–Ω–µ—Å-–∫–ª–∏–µ–Ω—Ç–æ–≤ (–ø–æ –∑–∞–ø—Ä–æ—Å—É)

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [YooKassa API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://yookassa.ru/developers/api)
- [YooKassa recurring –ø–ª–∞—Ç–µ–∂–∏](https://yookassa.ru/developers/payment-acceptance/scenario-extensions/recurring-payments/basics)
- [Keycloak OIDC –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://www.keycloak.org/docs/latest/securing_apps/index.html#_oidc)
- [GORM –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://gorm.io/docs/)
- [React Hook Form + Zod](https://react-hook-form.com/get-started#SchemaValidation)

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–ø–∏—Å–æ–∫:
- –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏: [github.com/kirin2461/Nemaxks/issues](https://github.com/kirin2461/Nemaxks/issues)
- –û–±—Å—É–¥–∏—Ç–µ –≤ Discussions: [github.com/kirin2461/Nemaxks/discussions](https://github.com/kirin2461/Nemaxks/discussions)

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 9 —è–Ω–≤–∞—Ä—è 2026  
**–ê–≤—Ç–æ—Ä**: @kirin2461
